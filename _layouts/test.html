<!--
1. Se importa SVG-ul pe care vrem sa il modificam
2. Se pune in values variabilele in format JSON
3. La inlocuirea id-urilor se pune textul specific exemplului (Ex:ex12,ex100 etc)
4. Dupa ce se da copy paste din inspect sa se stearga <style>...</style>
-->


<!doctype html>
<html lang="en">
<head>
{% include head.html %}
</head>
<body>
  <div class="row">
    <div class="col-6">
      <!-- Import SVG -->
      {% include examples/old-svg/svg24.html %}
    </div>
    <div class="col-6">
      <button class="btn" onclick="transform()">Transform</button>
    </div>
  </div>

  <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

  <script>
  // Variabilele in format JSON
  const values = {
    "st0":"fill:#F8F8FF",
    "st1":"fill:#FFFFFF",
    "st2":"fill:none;stroke:#BAC6F2;stroke-width:5;stroke-linecap:round;stroke-linejoin:round",
    "st3":"fill:#4B44BE",
    "st4":"fill:url(#ex24_1_)",
    "st5":"fill:url(#ex24_2_)",
    "st6":"fill:url(#ex24_3_)",
    "st7":"fill:url(#ex24_4_)",
    "st8":"opacity:7.000000e-02;enable-background:new    ",
    "st9":"fill:url(#ex24_5_)",
    "st10":"fill:url(#ex24_6_)",
    "st11":"fill:url(#ex24_7_)",
    "st12":"fill:url(#ex24_8_)",
    "st13":"fill:#4A41BC",
    "st14":"fill:url(#ex24_9_)",
    "st15":"fill:url(#ex24_10_)",
    "st16":"fill:url(#ex24_11_)",
    "st17":"fill:url(#ex24_12_)",
    "st18":"fill:url(#ex24_13_)",
    "st19":"fill:url(#ex24_14_)",
    "st20":"fill:url(#ex24_15_)"
};

var i;
var number = document.querySelectorAll("path,rect,ellipse,polygon,circle,polyline");

function transform() {
  var i,go,gh,gs,gt;

  var number = document.querySelectorAll("path,rect,ellipse,polygon,circle,polyline,g,text");
  var number_gradient_object = document.querySelectorAll(".gradient-object");
  var number_gradient_hair = document.querySelectorAll(".gradient-hair");
  var number_gradient_shirt = document.querySelectorAll(".gradient-shirt");
  var number_gradient_trousers = document.querySelectorAll(".gradient-trousers");


  // adaugarea propritatilor inline
  for(i = 0; i < number.length; i++){
    var component = document.querySelectorAll("path,rect,ellipse,polygon,circle,polyline,g,text")[i];

    for (const [key, value] of Object.entries(values)) {
      // console.log(key, value);

        if(component.classList.contains(key)){
          if(component.className.baseVal.length>=9) //daca are cel putin 2 clase
          {
            component.setAttribute("style", value);

          }
          else{
          component.removeAttribute('class');
          component.setAttribute("style", value);
          }
        }
    }
  }

  for(i = 0; i < number.length; i++){
    var dates = document.querySelectorAll('*[id^="Cup"],*[id^="bag"],*[id^="coin"],*[id^="Armchair"],*[id^="Table"],*[id^="chair"]');
    console.log(dates);
  }

  //Inlocuirea id-urilor pentru a nu se suprapune cu celelalte
  $("svg").children().each(function() {
        // Se schimba mereu textul cu cel specific exercitiului
       $(this).html($(this).html().replace(/SVGID/g,"ex24"));
   });




  // Adaugare de stop1 si stop2

  for(gt = 0; gt < number_gradient_trousers.length; gt++){

  document.getElementsByClassName("gradient-trousers")[gt].innerHTML =
  '<stop offset="0" class="stop1"></stop>' + '<stop offset="1" class="stop2"></stop>';

  }

  for(gs = 0; gs < number_gradient_shirt.length; gs++){

  document.getElementsByClassName("gradient-shirt")[gs].innerHTML =
  '<stop offset="0" class="stop1"></stop>' + '<stop offset="1" class="stop2"></stop>';

  }

  for(gh = 0; gh < number_gradient_hair.length; gh++){

  document.getElementsByClassName("gradient-hair")[gh].innerHTML =
  '<stop offset="0" class="stop1"></stop>' + '<stop offset="1" class="stop2"></stop>';

  }

  for(go = 0; go < number_gradient_object.length; go++){

    document.getElementsByClassName("gradient-object")[go].innerHTML =
    '<stop offset="0" class="stop1"></stop>' + '<stop offset="1" class="stop2"></stop>';

  }

  //Pentru bag, chair, pig, cup, phone, grill, table, bank se
  //pune clasa gradient-object si atributul data-color


}

</script>
</body>
